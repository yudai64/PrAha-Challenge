### 課題1
- Manga に対するコメントと Novel に対するコメントで仕様の差が出てきた場合
  - どちらか一方のtypeにしか必要ないカラムが出てくる
    - 必要のない方のtype(を持つレコード)にはNULLが入る
- 操作によるミスが起きる可能性が増える
  - belongs_to_idに外部キーを指定できない
    - それぞれ別のテーブルに対して結合してしまう可能性がある
- コメントを全件取得する場合に面倒
  - レコードごとに結合先を変えれないため親テーブルを全て外部結合しておく必要がある
  - 親テーブルが増えた場合に結合先も増やす必要がある

### 課題2
#### 案1
![](./work/anti-pattern3-1.png)
- 1つの Comment レコードが、MangaComment と NovelComment のどちらとも紐づいてしまう可能性を制約で防ぐことはできない

#### 案2
![](./work/anti-pattern3-2.png)
- Mangaテーブル、 Novelテーブルのbook_idはbookテーブルのIDを参照
  - book_idは主キーでもあり外部キーでもある
- MangaとComment 、NovelとCommentは直接のリレーションシップはないがbook_idで結合が可能

Manga, Novel以外にも種類が増えそう、種類に特有の属性が発生しにくそう
ということを考慮して案2を採用する

### 課題3
- 動画投稿サービスを想定
  - 動画テーブルの他に、ショート動画が生まれる
  - コメントテーブルにbelongs_to_idカラムが生まれるとアンチパターンに陥る
